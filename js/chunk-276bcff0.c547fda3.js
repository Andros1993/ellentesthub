(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-276bcff0"],{"11e9":function(t,e,n){var i=n("52a7"),a=n("4630"),o=n("6821"),r=n("6a99"),c=n("69a8"),s=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=o(t),e=r(e,!0),s)try{return u(t,e)}catch(n){}if(c(t,e))return a(!i.f.call(t,e),t[e])}},"470b":function(t,e,n){"use strict";var i=n("995d"),a=n.n(i);a.a},"85f2":function(t,e,n){t.exports=n("454f")},"8e6e":function(t,e,n){var i=n("5ca1"),a=n("990b"),o=n("6821"),r=n("11e9"),c=n("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,i=o(t),s=r.f,u=a(i),l={},d=0;while(u.length>d)n=s(i,e=u[d++]),void 0!==n&&c(l,e,n);return l}})},9093:function(t,e,n){var i=n("ce10"),a=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},"990b":function(t,e,n){var i=n("9093"),a=n("2621"),o=n("cb7c"),r=n("7726").Reflect;t.exports=r&&r.ownKeys||function(t){var e=i.f(o(t)),n=a.f;return n?e.concat(n(t)):e}},"995d":function(t,e,n){},cbf3:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-table",{staticClass:"invoices-table",attrs:{size:"small",columns:t.columns,dataSource:t.invoices,pagination:t.pagination,locale:t.emptyContent,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"action",fn:function(e){return n("span",{staticClass:"action-btn"},[n("a-button",{attrs:{type:"primary",loading:e.isPaying,disabled:t.pending},on:{click:function(n){return t.pay(e,"payssionalipaycn")}}},[t._v("\n                "+t._s(t.$t("Pay"))+"\n            ")])],1)}}])})},a=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("85f2")),r=n.n(o);function c(t,e,n){return e in t?r()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n("9225");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={emptyText:s["b"].t("Invoice Empty")},p=[{title:s["b"].t("Invoice"),dataIndex:"id",key:"id",width:50},{title:s["b"].t("Due"),key:"duedate",dataIndex:"duedate",scopedSlots:{customRender:"duedate"},width:50},{title:s["b"].t("Invoice Total"),dataIndex:"total",key:"total",width:50},{title:s["b"].t("Status"),dataIndex:"status",key:"status",filters:[{text:"Paid",value:"Paid"},{text:"Un Paid",value:"Unpaid"}],filterMultiple:!1,width:50},{title:s["b"].t("Action"),key:"action",scopedSlots:{customRender:"action"},width:50}],f={name:"invoice",data:function(){return{columns:p,emptyContent:d,invoices:[],pagination:{pageSize:20,current:1},loading:!1,pending:!1}},mounted:function(){null!=localStorage.getItem("token")&&this.fetch({limitnum:this.pagination.pageSize,limitstart:(this.pagination.current-1)*this.pagination.pageSize,orderby:"id",order:"descend",status:"Unpaid"})},methods:{handleTableChange:function(t,e,n){var i=l({},this.pagination);i.current=t.current,this.pagination=i;var a=e.status&&e.status.length>0?e.status[0]:"Unpaid";this.fetch({limitnum:t.pageSize,limitstart:(t.current-1)*t.pageSize,orderby:"id",order:"descend",status:a})},fetch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0;var e=this;this.$request.getUsersInvoices(t,(function(t){if(e.loading=!1,200===t.status){var n=JSON.parse(JSON.stringify(t.data));e.invoices=n.invoices.invoice,e.invoices&&e.invoices.map((function(t){t["isPaying"]=!1})),e.invoices&&e.invoices.map((function(t){t["status"]=s["b"].t("Unpaid")}));var i=l({},e.pagination);i.total=n.totalresults}}))},pay:function(t,e){var n=this;t.isPaying=!0,this.pending=!0,t["isPaying"]=!0,"android"===localStorage.getItem("inapp")&&this.firebaselogger.logEvent(this.firebaselogger.eventConfig.PAY_INVOICE,""),this.$http.put("".concat("https://fatpipe.work","/api/v1/invoices/").concat(t.id,"/pay?paymentMethod=").concat(t.paymentmethod)).then((function(e){n.pending=!1,t.isPaying=!1,200===e.status&&200===e.data.result_code&&(n.$router.push({path:"invoices/:id",name:"invoices-detail",params:{id:t.id}}),null!=e.data.redirect_url&&(e.data.redirect_url.indexOf("WHMCS")>-1?(localStorage.setItem("src",e.data.redirect_url),window.open("".concat(window.location.origin,"/").concat(n.$i18n.locale,"/order/viewInvoice"))):window.open(e.data.redirect_url)))}))}}},g=f,v=(n("470b"),n("2877")),h=Object(v["a"])(g,i,a,!1,null,null,null);e["default"]=h.exports},f1ae:function(t,e,n){"use strict";var i=n("86cc"),a=n("4630");t.exports=function(t,e,n){e in t?i.f(t,e,a(0,n)):t[e]=n}}}]);
//# sourceMappingURL=chunk-276bcff0.c547fda3.js.map