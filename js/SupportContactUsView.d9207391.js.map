{"version":3,"sources":["webpack:///./src/components/SupportContactUsView.vue?b341","webpack:///src/components/SupportContactUsView.vue","webpack:///./src/components/SupportContactUsView.vue?b469","webpack:///./src/components/SupportContactUsView.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","channel","staticClass","_v","attrs","on","$event","openZw","openNewRequest","_e","form","handleSubmit","directives","name","rawName","value","rules","required","message","initialValue","email","expression","minRows","maxRows","valuePropName","getValueFromEvent","normFile","uploadData","uploadFileCheck","handleChange","submitLoading","staticRenderFns","component"],"mappings":"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","file":"js/SupportContactUsView.d9207391.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.channel === 0)?_c('div',{staticClass:\"contact-container\"},[_c('p',{staticClass:\"client-title\"},[_vm._v(\"聯繫我們\")]),_c('p',{staticClass:\"client-description\"},[_vm._v(\"為您提供進一步幫助\")]),_c('div',{staticClass:\"channel-item-container\"},[_c('div',{staticClass:\"channel-item\"},[_c('i',{staticClass:\"channel-icon\"}),_c('p',{staticClass:\"channel-title\"},[_vm._v(\"實時聊天\")]),_c('p',{staticClass:\"channel-description\"},[_vm._v(\"在您的瀏覽器中和我們實時聊天。\")]),_c('a-button',{staticClass:\"subscribe-btn\",attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":function($event){return _vm.openZw()}}},[_vm._v(\"開始聊天\")])],1),_c('div',{staticClass:\"channel-item\"},[_c('i',{staticClass:\"channel-icon channel-email-icon\"}),_c('p',{staticClass:\"channel-title\"},[_vm._v(\"提交工單\")]),_c('p',{staticClass:\"channel-description\"},[_vm._v(\"開一個工單，填寫表單或發送郵件給我們。\")]),_c('a-button',{staticClass:\"subscribe-btn\",attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":function($event){return _vm.openNewRequest()}}},[_vm._v(\"發工單\")])],1),_c('div',{staticClass:\"channel-item\"},[_c('i',{staticClass:\"channel-icon channel-phone-icon\"}),_c('p',{staticClass:\"channel-title\"},[_vm._v(\"電話溝通\")]),_c('p',{staticClass:\"channel-description\"},[_vm._v(\"呼叫支援專員或讓我們回撥電話。\")]),_c('a-button',{staticClass:\"subscribe-btn\",attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":function($event){return _vm.openZw()}}},[_vm._v(\"開始通話\")])],1)])]):_vm._e(),(_vm.channel === 1)?_c('div',{staticClass:\"contact-email\"},[_c('p',{staticClass:\"client-title\"},[_vm._v(\"提交工單\")]),_c('a-form',{staticClass:\"email-form\",attrs:{\"form\":_vm.form,\"layout\":\"vertical\"},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{staticClass:\"form-item\",attrs:{\"label\":\"電郵\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['email', { rules: [{ required: true, message: '您的電郵' }],initialValue: _vm.email }]),expression:\"['email', { rules: [{ required: true, message: '您的電郵' }],initialValue: email }]\"}],staticClass:\"form-email\",attrs:{\"placeholder\":\"您的電郵\"}})],1),_c('a-form-item',{staticClass:\"form-item\",attrs:{\"label\":\"問題描述\"}},[_c('a-textarea',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['detail', { rules: [{ required: true, message: '描述您遇到的問題' }] }]),expression:\"['detail', { rules: [{ required: true, message: '描述您遇到的問題' }] }]\"}],staticClass:\"form-description\",attrs:{\"placeholder\":\"描述您遇到的問題\",\"autosize\":{ minRows: 8, maxRows: 8}}})],1),_c('a-form-item',{staticClass:\"form-item\",attrs:{\"label\":\"附件\"}},[_c('div',{staticClass:\"dropbox\"},[_c('a-upload-dragger',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['dragger',{valuePropName: 'fileList',getValueFromEvent: _vm.normFile,} ]),expression:\"['dragger',{valuePropName: 'fileList',getValueFromEvent: normFile,},]\"}],staticClass:\"form-upload-dragger\",attrs:{\"name\":\"uploaded_data\",\"action\":\"https://sg.inforun.work/api/v2/uploads\",\"data\":_vm.uploadData,\"beforeUpload\":_vm.uploadFileCheck},on:{\"change\":_vm.handleChange}},[_c('p',{staticClass:\"ant-upload-drag-icon\"},[_c('i',{staticClass:\"form-upload-icon\"})]),_c('p',{staticClass:\"ant-upload-text\"},[_vm._v(\"\\n              新增檔案\\n            \")]),_c('p',{staticClass:\"ant-upload-hint\"},[_vm._v(\"\\n              或將檔案放置到這裡 (最多5個)\\n            \")])])],1)]),_c('a-form-item',{staticClass:\"form-item-btn\"},[_c('a-button',{staticClass:\"submit-btn\",attrs:{\"type\":\"primary\",\"html-type\":\"submit\",\"loading\":_vm.submitLoading}},[_vm._v(\"\\n          提交\\n        \")])],1)],1)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div v-if=\"channel === 0\" class=\"contact-container\">\n      <p class=\"client-title\">聯繫我們</p>\n      <p class=\"client-description\">為您提供進一步幫助</p>\n      <div class=\"channel-item-container\">\n        <div class=\"channel-item\">\n          <i class=\"channel-icon\"></i>\n          <p class=\"channel-title\">實時聊天</p>\n          <p class=\"channel-description\">在您的瀏覽器中和我們實時聊天。</p>\n          <a-button class=\"subscribe-btn\" type=\"primary\" ghost @click=\"openZw()\">開始聊天</a-button>\n        </div>\n        <div class=\"channel-item\">\n          <i class=\"channel-icon channel-email-icon\"></i>\n          <p class=\"channel-title\">提交工單</p>\n          <p class=\"channel-description\">開一個工單，填寫表單或發送郵件給我們。</p>\n          <a-button class=\"subscribe-btn\" type=\"primary\" ghost @click=\"openNewRequest()\">發工單</a-button>\n        </div>\n        <div class=\"channel-item\">\n          <i class=\"channel-icon channel-phone-icon\"></i>\n          <p class=\"channel-title\">電話溝通</p>\n          <p class=\"channel-description\">呼叫支援專員或讓我們回撥電話。</p>\n          <a-button class=\"subscribe-btn\" type=\"primary\" ghost @click=\"openZw()\">開始通話</a-button>\n        </div>\n      </div>\n    </div>\n    <div v-if=\"channel === 1\" class=\"contact-email\">\n      <p class=\"client-title\">提交工單</p>\n      <a-form class=\"email-form\" :form=\"form\" @submit=\"handleSubmit\" layout=\"vertical\">\n        <a-form-item label=\"電郵\" class=\"form-item\">\n          <a-input class=\"form-email\" placeholder=\"您的電郵\"\n                   v-decorator=\"['email', { rules: [{ required: true, message: '您的電郵' }],initialValue: email }]\"\n          />\n        </a-form-item>\n        <a-form-item label=\"問題描述\" class=\"form-item\">\n          <a-textarea class=\"form-description\" placeholder=\"描述您遇到的問題\" :autosize=\"{ minRows: 8, maxRows: 8}\"\n                      v-decorator=\"['detail', { rules: [{ required: true, message: '描述您遇到的問題' }] }]\"\n          />\n        </a-form-item>\n        <a-form-item label=\"附件\" class=\"form-item\">\n          <div class=\"dropbox\">\n            <a-upload-dragger\n                    class=\"form-upload-dragger\"\n                    v-decorator=\"['dragger',{valuePropName: 'fileList',getValueFromEvent: normFile,},]\"\n                    name=\"uploaded_data\"\n                    action=\"https://sg.inforun.work/api/v2/uploads\"\n                    :data=\"uploadData\"\n                    @change=\"handleChange\"\n                    :beforeUpload=\"uploadFileCheck\"\n            >\n              <p class=\"ant-upload-drag-icon\">\n                <i class=\"form-upload-icon\"></i>\n              </p>\n              <p class=\"ant-upload-text\">\n                新增檔案\n              </p>\n              <p class=\"ant-upload-hint\">\n                或將檔案放置到這裡 (最多5個)\n              </p>\n            </a-upload-dragger>\n          </div>\n        </a-form-item>\n        <a-form-item class=\"form-item-btn\">\n          <a-button class=\"submit-btn\" type=\"primary\" html-type=\"submit\" :loading=\"submitLoading\">\n            提交\n          </a-button>\n        </a-form-item>\n      </a-form>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'SupportContactUsView',\n    data() {\n      return {\n        channel: 0,\n        uploadData: {\n          filename: ''\n        },\n        formLayout: 'horizontal',\n        form: this.$form.createForm(this, { name: 'coordinated' }),\n        uploadFIleIds: [],\n        submitLoading: false,\n        maxFiles: 5,\n        email: localStorage.getItem(\"email\")\n      };\n    },\n    methods: {\n      openZw() {\n        window.zE('webWidget', 'open');\n        setTimeout(function () {\n          // Open the channel\n          document.getElementsByClassName('zEWidget-webWidget--active')[0].contentWindow.document.getElementsByTagName('footer')[0].getElementsByTagName('button')[0].click();\n        }, 1000);\n      },\n      openNewRequest() {\n        this.channel = 1;\n      },\n      handleSubmit(e) {\n        e.preventDefault();\n        this.form.validateFields((err, values) => {\n          if (!err) {\n            this.submitLoading = true;\n            // console.log('Received values of form: ', values);\n            let data = {\n              'request': {\n                'requester': {\n                  'name': values['email'],\n                  'email': values['email']\n                },\n                'subject': values['detail'],\n                'comment': {\n                  'body': `${values['detail']}↵↵---------- ↵ 來自${window.location.href}`,\n                  'upload': this.uploadFIleIds\n                }\n              }\n            };\n            const that = this;\n            this.$request.postNewRequest(data, function (data) {\n              that.submitLoading = false;\n              if ((data.status === 201 || data.status === 200) && data.request.id != 0) {\n                that.channel = 0;\n                that.$notification.open({\n                  message: '感謝您與我們聯繫\\n' +\n                    '相關人員會盡快回复您',\n                  onClick: () => {\n                  },\n                });\n              } else {\n                that.$notification.open({\n                  message: '處理您的請求時出錯。請稍後重試。',\n                  onClick: () => {\n                  },\n                });\n              }\n            });\n          }\n        });\n      },\n      handleChange(info) {\n        // console.log(info)\n        const status = info.file.status;\n        if (status === 'done') {\n          this.$message.success(`${info.file.name} 上傳成功。`);\n          this.uploadFIleIds.push(info.file.response.upload.token);\n        } else if (!status) {\n          this.$message.error(`${info.file.name} 上傳失敗。`);\n        }\n\n\n      },\n      normFile(e) {\n        if (Array.isArray(e)) {\n          return e;\n        }\n        return e && e.fileList;\n      },\n      uploadFileCheck(file, fileList) {\n        return this.uploadFIleIds.length < this.maxFiles;\n      }\n    }\n  };\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupportContactUsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SupportContactUsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SupportContactUsView.vue?vue&type=template&id=4bb6362c&scoped=true&\"\nimport script from \"./SupportContactUsView.vue?vue&type=script&lang=js&\"\nexport * from \"./SupportContactUsView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4bb6362c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}