{"version":3,"sources":["webpack:///./src/views/Reward.vue?c602","webpack:///src/views/Reward.vue","webpack:///./src/views/Reward.vue?a3b4","webpack:///./src/views/Reward.vue","webpack:///./src/views/Reward.vue?bdcf"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","_s","balance","peopleNum","style","backgroundImage","$assetsUrl","commission","_l","reward","index","key","id","length","campaign","date","status","on","$event","claimReward","haveTicket","_e","staticRenderFns","name","data","sheetVisible","rewards","mounted","getData","getAffiliate","methods","component"],"mappings":"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","file":"js/Reward.7ca4feac.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-reward\"},[_vm._m(0),_c('div',{staticClass:\"display-board\"},[_c('div',{staticClass:\"wallet\"},[_c('div',{staticClass:\"balance\"},[_c('p',[_vm._v(_vm._s(_vm.balance))]),_c('p',[_vm._v(\"佣金余额（元）\")])])]),_c('div',{staticClass:\"total-flex\"},[_c('div',{staticClass:\"total people\"},[_c('div',{staticClass:\"total-left\"},[_c('p',[_vm._v(_vm._s(_vm.peopleNum))]),_c('p',[_vm._v(\"邀请人数（个）\")])]),_c('div',{staticClass:\"total-right\"},[_c('i',{style:({backgroundImage: 'url(' + _vm.$assetsUrl + 'reward/arrow.svg)'})})])]),_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"total money\"},[_c('div',{staticClass:\"total-left\"},[_c('p',[_vm._v(_vm._s(_vm.commission))]),_c('p',[_vm._v(\"累计佣金（元）\")])]),_c('div',{staticClass:\"total-right\"},[_c('i',{style:({backgroundImage: 'url(' + _vm.$assetsUrl + 'reward/arrow.svg)'})})])])])]),_c('div',{staticClass:\"ticket\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"\\n      流量券\\n    \")]),_c('div',{staticClass:\"ticket-list\"},_vm._l((_vm.rewards),function(reward,index){return _c('div',{key:reward.id,staticClass:\"ticket\"},[_c('div',{staticClass:\"ticket-left\"},[_c('div',{staticClass:\"num\"},[_c('p',[_vm._v(_vm._s(reward.length))]),_c('span',[_vm._v(\"Days\")])]),_c('div',{staticClass:\"info\"},[_c('p',[_vm._v(_vm._s(reward.campaign))]),_c('span',[_vm._v(_vm._s(reward.date))])])]),(reward.status === 'CREATED')?_c('div',{staticClass:\"receive\",on:{\"click\":function($event){return _vm.claimReward(reward)}}},[_vm._v(\"\\n          领取\\n        \")]):(reward.status === 'CLAIMING')?_c('div',{staticClass:\"receive\"},[_vm._v(\"\\n          领取中\\n        \")]):_c('div',{staticClass:\"received\"},[_vm._v(\"\\n          已领取\\n        \")])])}),0),(!_vm.haveTicket)?_c('div',{staticClass:\"none-ticket\"},[_c('div',{staticClass:\"none-img\",style:({backgroundImage: 'url(' + _vm.$assetsUrl + 'reward/none.svg)'})}),_c('div',{staticClass:\"invite-friend\"},[_vm._v(\"\\n        邀请好友得券\\n      \")])]):_vm._e()])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('h1',[_vm._v(\"我的奖励\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"my-reward\">\n    <header>\n      <h1>我的奖励</h1>\n    </header>\n    <div class=\"display-board\">\n      <div class=\"wallet\">\n        <div class=\"balance\">\n          <p>{{balance}}</p>\n          <p>佣金余额（元）</p>\n        </div>\n        <!--<a class=\"withdraw\">提现</a>-->\n      </div>\n      <div class=\"total-flex\">\n        <div class=\"total people\">\n          <div class=\"total-left\">\n            <p>{{peopleNum}}</p>\n            <p>邀请人数（个）</p>\n          </div>\n          <div class=\"total-right\">\n            <i :style=\"{backgroundImage: 'url(' + $assetsUrl + 'reward/arrow.svg)'}\"></i>\n          </div>\n        </div>\n        <div class=\"line\"></div>\n        <div class=\"total money\">\n          <div class=\"total-left\">\n            <p>{{commission}}</p>\n            <p>累计佣金（元）</p>\n          </div>\n          <div class=\"total-right\">\n            <i :style=\"{backgroundImage: 'url(' + $assetsUrl + 'reward/arrow.svg)'}\"></i>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"ticket\">\n      <div class=\"title\">\n        流量券\n      </div>\n      <div class=\"ticket-list\">\n        <div class=\"ticket\" v-for=\"(reward, index) in rewards\" :key=\"reward.id\">\n          <div class=\"ticket-left\">\n            <div class=\"num\">\n              <p>{{reward.length}}</p>\n              <span>Days</span>\n            </div>\n            <div class=\"info\">\n              <p>{{reward.campaign}}</p>\n              <span>{{reward.date}}</span>\n            </div>\n          </div>\n          <div v-if=\"reward.status === 'CREATED'\" class=\"receive\" @click=\"claimReward(reward)\">\n            领取\n          </div>\n          <div v-else-if=\"reward.status === 'CLAIMING'\" class=\"receive\">\n            领取中\n          </div>\n          <div v-else class=\"received\">\n            已领取\n          </div>\n        </div>\n      </div>\n      <div class=\"none-ticket\" v-if=\"!haveTicket\">\n        <div class=\"none-img\" :style=\"{backgroundImage: 'url(' + $assetsUrl + 'reward/none.svg)'}\"></div>\n        <div class=\"invite-friend\">\n          邀请好友得券\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Toast } from 'mint-ui';\n\nexport default {\n  name: 'reward',\n  data() {\n    return {\n      haveTicket: true,\n      sheetVisible: true,\n      balance: '--',\n      peopleNum: '--',\n      commission: '--',\n      rewards: [],\n    };\n  },\n  mounted() {\n    this.getData();\n    this.getAffiliate();\n  },\n  methods: {\n    getData() {\n      /* eslint-disable */\n        this.$http.get(`${process.env.VUE_APP_SERVER_URL}/api/v1/rewards`).then((data) => {\n          if (data.status === 200) {\n            this.rewards = JSON.parse(JSON.stringify(data.data));\n            this.rewards.map((x) => {\n              x.date = x.createdAt.slice(0, 10);\n              x.num = `${x.data / 1073741824}G`;\n            });\n          }\n        });\n        /* eslint-disable */\n      },\n      getAffiliate() {\n\n        this.$http.get(`${process.env.VUE_APP_SERVER_URL}/api/v1/affiliates`).then((data) => {\n                  if (data.status === 200) {\n                    this.peopleNum = data.data.visitors;\n                    this.balance = data.data.balance;\n                  }\n                },\n        );\n      },\n      claimReward(reward) {\n\n        this.$http.put(`${process.env.VUE_APP_SERVER_URL}/api/v1/rewards/${reward.id}/claim`).then((data) => {\n                  if (data.status === 200) {\n                    Toast({\n                      message: '领取成功！',\n                      duration: 1000,\n                    });\n                    reward.status = data.data.status;\n                  }\n                },\n        );\n      },\n      // 无邀请人数，不进行跳转\n      toInviteList() {\n        if (this.peopleNum > 0) {\n          this.$router.push('/invitations');\n        }\n      },\n      // 无佣金记录，不进行跳转\n      toCommissionList() {\n        if (this.commission > 0) {\n          this.$router.push('/commissions');\n        }\n      },\n      getRewards() {\n        // console.log('1');\n      },\n    },\n  };\n</script>\n\n<style lang=\"scss\">\n  .my-reward {\n    width: 10rem;\n    padding: 0 0.5333rem;\n    background: #fff;\n    box-sizing: border-box;\n    header {\n      h1 {\n        font-size: 0.64rem;\n        color: #414954;\n      }\n    }\n    .display-board {\n      width: 8.9333rem;\n      height: 4.16rem;\n      padding: 0.5333rem;\n      color: #FFFFFF;\n      background: linear-gradient(135deg, #4897F1, #4B7CEC);\n      border-radius: 0.16rem;\n      box-shadow: 0 0.1067rem 0.32rem #A0BEEF;\n      box-sizing: border-box;\n      .wallet {\n        display: flex;\n        height: 1.5467rem;\n        border-bottom: 1px solid rgba(230, 235, 240, .15);\n        justify-content: space-between;\n        .balance {\n          p {\n            margin: 0;\n            font-size: 0.48rem;\n            &:last-child {\n              margin-top: 0.2333rem;\n              opacity: .5;\n              font-size: 0.32rem;\n            }\n          }\n        }\n        .withdraw {\n          width: 1.7067rem;\n          height: 0.8533rem;\n          line-height: 0.8533rem;\n          text-align: center;\n          border-radius: 0.0533rem;\n          border: 1px solid #fff;\n          background: transparent;\n          font-size: 0.3733rem;\n          box-sizing: border-box;\n        }\n      }\n      .total-flex {\n        display: flex;\n        justify-content: space-between;\n        .total {\n          display: flex;\n          width: 3.3867rem;\n          justify-content: space-between;\n          color: #fff;\n          .total-left {\n            p {\n              margin: 0;\n              margin-top: 0.4267rem;\n              font-size: 0.3733rem;\n              &:last-child {\n                font-size: 0.32rem;\n                opacity: .5;\n                margin-top: 0.3267rem;\n              }\n            }\n          }\n          .total-right {\n            i {\n              position: relative;;\n              display: inline-block;\n              width: 0.2667rem;\n              height: 0.2667rem;\n              top: .2rem;\n              background: center no-repeat;\n              background-size: contain;\n            }\n          }\n\n        }\n        .line {\n          width: 1px ;\n          height: 0.8267rem;\n          margin: 0 0.5333rem;\n          margin-top: 0.54rem;\n          background: rgba(230, 235, 240, .15);\n        }\n      }\n    }\n    .ticket {\n      .title {\n        margin-top: 0.7467rem;\n        font-size: 0.4267rem;\n        color: #414954;\n      }\n      .ticket-list {\n        margin-top: 0.4267rem;\n        .ticket {\n          display: flex;\n          width: 8.9333rem;\n          height: 2.2533rem;\n          padding: 0.5333rem;\n          margin-bottom: 0.3733rem;\n          justify-content: space-between;\n          background: #fff;\n          box-shadow: 0 0.1067rem 0.32rem #F5F5F5;\n          border: 1px solid #E4EAF0;\n          border-radius: 0.16rem;\n          box-sizing: border-box;\n          .ticket-left {\n            display: flex;\n            .num {\n              p {\n                margin: 0;\n                font-size: 0.48rem;\n                color: #138CFF;\n              }\n              span {\n                position: relative;\n                top: -0.27rem;\n                font-size: 0.32rem;\n                color: #A5B1BF;\n              }\n            }\n            .info {\n              margin-left: 1.2rem;\n              p {\n                position: relative;\n                top: 0.05rem;\n                margin: 0;\n                font-size: 0.3733rem;\n                color: #414954;\n              }\n              span {\n                position: relative;\n                top: -0.14rem;\n                font-size: 0.32rem;\n                color: #A5B1BF;\n              }\n            }\n          }\n          .receive {\n            position: relative;\n            float: right;\n            width: 1.7067rem;\n            height: 0.8533rem;\n            top: .2rem;\n            line-height: 0.8533rem;\n            text-align: center;\n            font-size: 0.3733rem;\n            color: #138CFF;\n            border: 1px solid #138CFF;\n            border-radius: 0.0533rem;\n            box-sizing: border-box;\n          }\n          .received {\n            position: relative;\n            float: right;\n            width: 1.7067rem;\n            height: 0.8533rem;\n            top: .2rem;\n            line-height: 0.8533rem;\n            text-align: center;\n            font-size: 0.3733rem;\n            color: #768392;\n            border: 1px solid #C3CCD9;\n            border-radius: 0.0533rem;\n            box-sizing: border-box;\n          }\n        }\n      }\n      .none-ticket {\n        margin-top: 0.6667rem;\n        .none-img {\n          width: 4.7333rem;\n          height: 5.12rem;\n          margin: 0 auto;\n          background: center no-repeat;\n          background-size: contain;\n        }\n        .invite-friend {\n          width: 4.4267rem;\n          height: 0.8533rem;\n          margin: 0 auto;\n          margin-top: 0.48rem;\n          line-height: 0.8533rem;\n          text-align: center;\n          color: #138CFF;\n          font-size: 0.3733rem;\n          border: 1px solid #138CFF;\n          border-radius: 0.0533rem;\n          box-sizing: border-box;\n        }\n      }\n    }\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reward.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reward.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reward.vue?vue&type=template&id=12434604&\"\nimport script from \"./Reward.vue?vue&type=script&lang=js&\"\nexport * from \"./Reward.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Reward.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reward.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reward.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}