(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Support","SupportContactUsView"],{"1deb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"support-container"},[a("PublicHeader",{staticClass:"support-header"}),t.isLoading?a("a-spin",{staticClass:"support-loading"},[a("a-icon",{staticStyle:{"font-size":"70px"},attrs:{slot:"indicator",type:"loading",spin:""},slot:"indicator"})],1):t._e(),t.isLoading?t._e():a("div",{staticClass:"support-content"},[a("div",{staticClass:"support-catalogue-container"},[a("p",{staticClass:"contact-us",on:{click:function(e){return t.openContact()}}},[t._v("聯繫我們")]),t._l(t.catalogue,(function(e,s){return a("div",{staticClass:"category-item"},[a("p",{staticClass:"category-name",class:{"blue-font":s===t.catalogueIndex},on:{click:function(e){return t.openCategory(s)}}},[t._v(t._s(e.name))]),t._l(e.sections,(function(i,n){return 1!=e.sections.length?a("p",{staticClass:"section-name",class:{"blue-font":n===t.sectionIndex&&s===t.catalogueIndex},on:{click:function(e){return t.openSection(s,n)}}},[t._v(t._s(i.name))]):t._e()}))],2)}))],2),t.catalogue.length>0?a("div",{staticClass:"right-content"},[a("div",{staticClass:"breadcrumb-search"},[a("a-breadcrumb",{attrs:{separator:">"}},[a("a-breadcrumb-item",{attrs:{href:"www.baidu.com"}},[a("a-icon",{attrs:{type:"home"},on:{click:function(e){return t.gotoHome()}}})],1),t._l(t.breadcrumb,(function(e,s){return a("a-breadcrumb-item",[a("a",{on:{click:function(e){return t.breadcrumbGoto(s)}}},[t._v(t._s(e))])])}))],2),a("div",{staticClass:"search-input"},[a("a-input",{staticClass:"search",attrs:{placeholder:"在這裡輸入您的問題",size:"large"},on:{pressEnter:function(e){return t.searchKeyword()}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),a("a-button",{staticClass:"search-btn",attrs:{loading:t.iconLoading,type:"primary"},on:{click:function(e){return t.searchKeyword()}}})],1)],1),0===t.showType?a("div",{staticClass:"other-catalogue"},[a("p",{staticClass:"client-title"},[t._v(t._s(t.selectCatalogue.name))]),a("p",{staticClass:"client-description"},[t._v(t._s(t.selectCatalogue.description))]),1!=t.selectCatalogue.sections.length?a("div",{staticClass:"client-item-container"},t._l(t.selectCatalogue.sections,(function(e,s){return a("div",{staticClass:"client-item"},[a("div",{staticClass:"title-container",on:{click:function(e){return t.openSection(t.catalogueIndex,s)}}},[a("i",{staticClass:"title-icon",class:{"signup-icon":360007511591===e.id,"client-setup-icon":360007511651===e.id,"flow-plan-icon":360007419392===e.id,"flow-fee-icon":360007511611===e.id,"payment-icon":360007419372===e.id,"android-icon":360001781572===e.id,"mac-icon":360001770571===e.id,"ios-icon":360001779432===e.id,"router-icon":360001772931===e.id,"linux-icon":360001779671===e.id,"chrome-icon":360007419332===e.id,"windows-icon":360001720032===e.id}}),a("span",{staticClass:"title-name"},[t._v(t._s(e.name))])]),a("div",{staticClass:"article-list",class:{"article-list-open":t.sectionIndex===s}},t._l(t.getShowArticles(t.sectionIndex===s,e.articles),(function(e,i){return a("p",{staticClass:"article-name",on:{click:function(e){return t.displayArticle(s,i)}}},[t._v(t._s(e.name))])})),0),e.articles.length>3?a("p",{staticClass:"show-more",on:{click:function(e){return t.openSectionOpen(t.catalogueIndex,s)}}},[a("i",{staticClass:"show-more-icon",class:{"show-more-icon-close":s===t.sectionIndex,"show-more-icon-open":s!=t.sectionIndex}}),t._v(t._s(e.showMoreTip))]):t._e()])})),0):t._e(),1===t.selectCatalogue.sections.length?a("div",{staticClass:"client-item-container"},t._l(t.selectCatalogue.sections,(function(e,s){return a("div",{staticClass:"client-item"},[a("div",{staticClass:"article-list",class:{"article-list-open":t.sectionIndex===s}},t._l(t.getShowArticles(t.sectionIndex===s,e.articles),(function(e,i){return a("p",{staticClass:"article-name",on:{click:function(e){return t.displayArticle(s,i)}}},[t._v(t._s(e.name))])})),0),e.articles.length>3?a("p",{staticClass:"show-more",on:{click:function(e){return t.openSectionOpen(t.catalogueIndex,s)}}},[a("i",{staticClass:"show-more-icon",class:{"show-more-icon-close":s===t.sectionIndex,"show-more-icon-open":s!=t.sectionIndex}}),t._v(t._s(e.showMoreTip))]):t._e()])})),0):t._e()]):t._e(),1===t.showType?a("div",{staticClass:"articles-detail"},[a("router-view")],1):t._e(),2===t.showType?a("div",{staticClass:"search-list"},[a("p",{staticClass:"search-result-title"},[t._v('搜索結果"'+t._s(t.searchTextBuf)+'"')]),a("p",{staticClass:"result-count"},[t._v(t._s(t.searchResults.length)+" 則搜索結果")]),a("div",{staticClass:"result-container"},t._l(t.searchResults,(function(e){return a("div",{staticClass:"result-item"},[a("p",{staticClass:"result-title",on:{click:function(a){return t.displayFromSearch(e)}}},[t._v(t._s(e.name))]),a("p",{staticClass:"result-detail",domProps:{innerHTML:t._s(e.snippet)},on:{click:function(a){return t.displayFromSearch(e)}}}),a("p",{staticClass:"result-from"},[t._v("來自："),a("span",{on:{click:function(a){return t.openCategory(e.categorieIndex)}}},[t._v(t._s(e.categorieName))]),t._v(" > "),a("span",{on:{click:function(a){return t.openSection(e.categorieIndex,e.sectionIndex)}}},[t._v(t._s(e.sectionName))])])])})),0),a("p",{staticClass:"no-result-tips"},[t._v("没有搜索到想要的结果？"),a("span",{staticClass:"contact-us",on:{click:function(e){return t.openZw()}}},[t._v("联系我们")])])]):t._e(),3===t.showType?a("div",{staticClass:"contact-container"},[a("router-view")],1):t._e()]):t._e()]),t.isLoading?t._e():a("div",{staticClass:"support-bg-left"})],1)},i=[],n=(a("aef6"),a("7514"),a("ac6a"),a("7f7f"),a("84c7")),c=a("c6f6"),o=(a("be95"),{name:"support",data:function(){return{isLoading:!0,articles:[],sections:[],categories:[],catalogue:[],breadcrumb:[],iconLoading:!1,searchText:"",searchTextBuf:"",selectCatalogue:{},catalogueIndex:0,sectionIndex:0,articleBody:"",showType:0,searchResults:[]}},components:{PublicHeader:n["a"],SupportArticle:c["default"]},watch:{$route:function(t,e){"support"===t.name&&(this.showType=0,this.selectCatalogue=this.catalogue[0],this.catalogueIndex=0,this.sectionIndex=0)}},created:function(){this.$route.path.indexOf("contact-us")>-1&&this.openContact()},mounted:function(){var t=this;this.$request.getZendeskArticles((function(e){if(200===e.status){var a=JSON.parse(JSON.stringify(e.data));t.articles=a.articles.filter((function(t){return-1===t.title.toUpperCase().indexOf("SSR")})),t.$request.getZendeskCategories((function(e){if(200===e.status){var a=JSON.parse(JSON.stringify(e.data));t.categories=a.categories.filter((function(t){return 360002460371!=t.id})),t.$request.getZendeskSections((function(e){if(200===e.status){var a=JSON.parse(JSON.stringify(e.data));if(t.sections=a.sections.filter((function(t){return 360006634511!=t.id})),t.categories.forEach((function(e){e["sections"]=[],t.sections.forEach((function(a){a["category_id"]===e["id"]&&(a["articles"]=[],a["showMoreTip"]="展開",t.articles.forEach((function(t){t["section_id"]===a["id"]&&360038782191!=t["id"]&&a["articles"].push(t)})),e["sections"].push(a))}))})),t.catalogue=t.categories,t.isLoading=!1,t.breadcrumb=[],t.$route.path.indexOf("article")>-1){t.showType=1;var s=t.$route.path.substring(t.$route.path.lastIndexOf("/")+1,t.$route.path.length),i=t.sections.find((function(e){return e.id===parseInt(t.articles.find((function(t){return t.id===parseInt(s)}))["section_id"])}));t.selectCatalogue=t.catalogue.find((function(t){return t.id===parseInt(i["category_id"])})),t.breadcrumb[0]="幫助中心",t.breadcrumb[1]=t.selectCatalogue.name,t.breadcrumb[2]=i.name,t.catalogueIndex=t.catalogue.indexOf(t.selectCatalogue),t.sectionIndex=t.selectCatalogue.sections.indexOf(i)}else-1===t.$route.path.indexOf("contact-us")?(t.selectCatalogue=t.catalogue[0],t.breadcrumb[0]="幫助中心",t.breadcrumb[1]=t.selectCatalogue.name,t.breadcrumb[2]=t.selectCatalogue.sections[0].name):(t.breadcrumb[0]="幫助中心",t.breadcrumb[1]="聯繫我們");Array.prototype.forEach.call(t.selectCatalogue.sections,(function(e,a){a!=t.sectionIndex?e.showMoreTip="展開":e.showMoreTip="收起"}))}}))}}))}}))},methods:{openZw:function(){window.zE("webWidget","open"),setTimeout((function(){document.getElementsByClassName("zEWidget-webWidget--active")[0].contentWindow.document.getElementsByTagName("footer")[0].getElementsByTagName("button")[0].click()}),1e3)},openContact:function(){this.showType=3,this.breadcrumb=[],this.breadcrumb[0]="幫助中心",this.breadcrumb[1]="聯繫我們",this.$router.push({path:"contact-us",name:"contact-us"})},getFileName:function(t,e){return console.log(t),console.log(e),!1},getShowArticles:function(t,e){return t?e:e.filter((function(t,e){return e<3}))},openCategory:function(t){window.location.pathname.endsWith("help-center")||this.$router.push({path:"help-center",name:"support"});var e=t,a=this;setTimeout((function(){a.showType=0,a.selectCatalogue=a.catalogue[e],a.catalogueIndex=e,a.sectionIndex=0,Array.prototype.forEach.call(a.selectCatalogue.sections,(function(t,e){e!=a.sectionIndex?t.showMoreTip="展開":t.showMoreTip="收起"})),a.breadcrumb=[],a.breadcrumb[0]="幫助中心",a.breadcrumb[1]=a.selectCatalogue.name}),10)},openSection:function(t,e){window.location.pathname.endsWith("help-center")||this.$router.push({path:"help-center",name:"support"});var a=t,s=e,i=this;setTimeout((function(){i.showType=0,i.selectCatalogue=i.catalogue[a],i.catalogueIndex=a,i.sectionIndex=s,Array.prototype.forEach.call(i.selectCatalogue.sections,(function(t,e){e!=i.sectionIndex?t.showMoreTip="展開":t.showMoreTip="收起"})),i.breadcrumb[1]=i.selectCatalogue.name,i.breadcrumb[2]=i.selectCatalogue["sections"][s].name}),10)},openSectionOpen:function(t,e){var a=this;Array.prototype.forEach.call(this.catalogue[t].sections,(function(s,i){i!=e?s.showMoreTip="展開":"收起"===s.showMoreTip?(s.showMoreTip="展開",a.sectionIndex=1e3):(s.showMoreTip="收起",a.openSection(t,e))}))},displayArticle:function(t,e){this.sectionIndex=t,this.showType=1,this.$router.push({path:"article",name:"article",params:{articleId:this.catalogue[this.catalogueIndex]["sections"][this.sectionIndex]["articles"][e]["id"]}}),this.breadcrumb[2]=this.catalogue[this.catalogueIndex]["sections"][this.sectionIndex]["name"]},displayFromSearch:function(t){this.showType=1,this.$router.push({path:"article",name:"article",params:{articleId:t.id}}),this.breadcrumb[1]=t.categorieName,this.breadcrumb[2]=t.sectionName},gotoHome:function(){this.$router.push({path:"home",name:"home"})},breadcrumbGoto:function(t){switch(t){case 0:this.showType=0,this.breadcrumb=this.breadcrumb.slice(0,1),this.catalogueIndex=0,this.selectCatalogue=this.catalogue[0];break;case 1:this.sectionIndex=1e3,this.breadcrumb=this.breadcrumb.slice(0,2);break;case 2:this.breadcrumb=this.breadcrumb.slice(0,3);break}},searchKeyword:function(){var t=this;t.searchTextBuf=t.searchText,this.$request.getSearchKeyword(this.searchText,(function(e){t.searchResults=e.data.results,t.searchResults.forEach((function(e){t.sections.forEach((function(a){e["section_id"]===a.id&&t.categories.forEach((function(t,s){t.id===a["category_id"]&&(e["categorieName"]=t.name,e["categorieIndex"]=s,e["sectionName"]=a.name,e["sectionIndex"]=t.sections.indexOf(a))}))}))})),t.showType=2}))}}}),r=o,l=(a("4ff9"),a("2877")),u=Object(l["a"])(r,s,i,!1,null,null,null);e["default"]=u.exports},"4ff9":function(t,e,a){"use strict";var s=a("b1ae"),i=a.n(s);i.a},5147:function(t,e,a){var s=a("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,!"/./"[t](e)}catch(i){}}return!0}},aef6:function(t,e,a){"use strict";var s=a("5ca1"),i=a("9def"),n=a("d2c8"),c="endsWith",o=""[c];s(s.P+s.F*a("5147")(c),"String",{endsWith:function(t){var e=n(this,t,c),a=arguments.length>1?arguments[1]:void 0,s=i(e.length),r=void 0===a?s:Math.min(i(a),s),l=String(t);return o?o.call(e,l,r):e.slice(r-l.length,r)===l}})},b1ae:function(t,e,a){},be95:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0===t.channel?a("div",{staticClass:"contact-container"},[a("p",{staticClass:"client-title"},[t._v("聯繫我們")]),a("p",{staticClass:"client-description"},[t._v("為您提供進一步幫助")]),a("div",{staticClass:"channel-item-container"},[a("div",{staticClass:"channel-item"},[a("i",{staticClass:"channel-icon"}),a("p",{staticClass:"channel-title"},[t._v("實時聊天")]),a("p",{staticClass:"channel-description"},[t._v("在您的瀏覽器中和我們實時聊天。")]),a("a-button",{staticClass:"subscribe-btn",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.openZw()}}},[t._v("開始聊天")])],1),a("div",{staticClass:"channel-item"},[a("i",{staticClass:"channel-icon channel-email-icon"}),a("p",{staticClass:"channel-title"},[t._v("提交工單")]),a("p",{staticClass:"channel-description"},[t._v("開一個工單，填寫表單或發送郵件給我們。")]),a("a-button",{staticClass:"subscribe-btn",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.openNewRequest()}}},[t._v("發工單")])],1),a("div",{staticClass:"channel-item"},[a("i",{staticClass:"channel-icon channel-phone-icon"}),a("p",{staticClass:"channel-title"},[t._v("電話溝通")]),a("p",{staticClass:"channel-description"},[t._v("呼叫支援專員或讓我們回撥電話。")]),a("a-button",{staticClass:"subscribe-btn",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.openZw()}}},[t._v("開始通話")])],1)])]):t._e(),1===t.channel?a("div",{staticClass:"contact-email"},[a("p",{staticClass:"client-title"},[t._v("提交工單")]),a("a-form",{staticClass:"email-form",attrs:{form:t.form,layout:"vertical"},on:{submit:t.handleSubmit}},[a("a-form-item",{staticClass:"form-item",attrs:{label:"電郵"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"您的電郵"}],initialValue:t.email}],expression:"['email', { rules: [{ required: true, message: '您的電郵' }],initialValue: email }]"}],staticClass:"form-email",attrs:{placeholder:"您的電郵"}})],1),a("a-form-item",{staticClass:"form-item",attrs:{label:"問題描述"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["detail",{rules:[{required:!0,message:"描述您遇到的問題"}]}],expression:"['detail', { rules: [{ required: true, message: '描述您遇到的問題' }] }]"}],staticClass:"form-description",attrs:{placeholder:"描述您遇到的問題",autosize:{minRows:8,maxRows:8}}})],1),a("a-form-item",{staticClass:"form-item",attrs:{label:"附件"}},[a("div",{staticClass:"dropbox"},[a("a-upload-dragger",{directives:[{name:"decorator",rawName:"v-decorator",value:["dragger",{valuePropName:"fileList",getValueFromEvent:t.normFile}],expression:"['dragger',{valuePropName: 'fileList',getValueFromEvent: normFile,},]"}],staticClass:"form-upload-dragger",attrs:{name:"uploaded_data",action:"https://sg.inforun.work/api/v2/uploads",data:t.uploadData,beforeUpload:t.uploadFileCheck},on:{change:t.handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("i",{staticClass:"form-upload-icon"})]),a("p",{staticClass:"ant-upload-text"},[t._v("\n              新增檔案\n            ")]),a("p",{staticClass:"ant-upload-hint"},[t._v("\n              或將檔案放置到這裡 (最多5個)\n            ")])])],1)]),a("a-form-item",{staticClass:"form-item-btn"},[a("a-button",{staticClass:"submit-btn",attrs:{type:"primary","html-type":"submit",loading:t.submitLoading}},[t._v("\n          提交\n        ")])],1)],1)],1):t._e()])},i=[],n=(a("7f7f"),{name:"SupportContactUsView",data:function(){return{channel:0,uploadData:{filename:""},formLayout:"horizontal",form:this.$form.createForm(this,{name:"coordinated"}),uploadFIleIds:[],submitLoading:!1,maxFiles:5,email:localStorage.getItem("email")}},methods:{openZw:function(){window.zE("webWidget","open"),setTimeout((function(){document.getElementsByClassName("zEWidget-webWidget--active")[0].contentWindow.document.getElementsByTagName("footer")[0].getElementsByTagName("button")[0].click()}),1e3)},openNewRequest:function(){this.channel=1},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,a){if(!t){e.submitLoading=!0;var s={request:{requester:{name:a["email"],email:a["email"]},subject:a["detail"],comment:{body:"".concat(a["detail"],"↵↵---------- ↵ 來自").concat(window.location.href),upload:e.uploadFIleIds}}},i=e;e.$request.postNewRequest(s,(function(t){i.submitLoading=!1,201!==t.status&&200!==t.status||0==t.request.id?i.$notification.open({message:"處理您的請求時出錯。請稍後重試。",onClick:function(){}}):(i.channel=0,i.$notification.open({message:"感謝您與我們聯繫\n相關人員會盡快回复您",onClick:function(){}}))}))}}))},handleChange:function(t){var e=t.file.status;"done"===e?(this.$message.success("".concat(t.file.name," 上傳成功。")),this.uploadFIleIds.push(t.file.response.upload.token)):e||this.$message.error("".concat(t.file.name," 上傳失敗。"))},normFile:function(t){return Array.isArray(t)?t:t&&t.fileList},uploadFileCheck:function(t,e){return this.uploadFIleIds.length<this.maxFiles}}}),c=n,o=a("2877"),r=Object(o["a"])(c,s,i,!1,null,"4bb6362c",null);e["default"]=r.exports},d2c8:function(t,e,a){var s=a("aae3"),i=a("be13");t.exports=function(t,e,a){if(s(e))throw TypeError("String#"+a+" doesn't accept regex!");return String(i(t))}}}]);
//# sourceMappingURL=Support.e11c8215.js.map