{"version":3,"sources":["webpack:///./src/views/Signup.vue?8ec0","webpack:///./src/views/Signup.vue?285b","webpack:///src/views/Signup.vue","webpack:///./src/views/Signup.vue?98ec","webpack:///./src/views/Signup.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","isPc","staticClass","_v","attrs","form","on","handleSubmit","emailState","directives","name","rawName","value","rules","type","message","required","expression","$event","showError","iconLoading","style","_s","errorMss","goSingIn","staticRenderFns","component"],"mappings":"kHAAA,yBAAwgB,EAAG,G,2CCA3gB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,mBAAoBN,EAAIO,KAAM,uBAAwBP,EAAIO,OAAO,CAACH,EAAG,IAAI,CAACI,YAAY,SAAS,CAACR,EAAIS,GAAG,QAAQL,EAAG,IAAI,CAACI,YAAY,eAAe,CAACR,EAAIS,GAAG,cAAcL,EAAG,SAAS,CAACI,YAAY,uBAAuBE,MAAM,CAAC,GAAK,oCAAoC,KAAOV,EAAIW,MAAMC,GAAG,CAAC,OAASZ,EAAIa,eAAe,CAACT,EAAG,cAAc,CAACA,EAAG,IAAI,CAACI,YAAY,aAAaF,MAAM,CAC9d,oBAAwC,IAAnBN,EAAIc,WACzB,mBAAuC,IAAnBd,EAAIc,WACxB,mBAAuC,IAAnBd,EAAIc,cAAoBV,EAAG,UAAU,CAACW,WAAW,CAAC,CAACC,KAAK,YAAYC,QAAQ,cAAcC,MAAM,CAAE,QAAQ,CAAEC,MAAO,CAAC,CAChIC,KAAM,QACNC,QAAS,UACT,CAAEC,UAAU,EAAMD,QAAS,YAAeE,WAAW,iJAAiJb,MAAM,CAAC,YAAc,MAAME,GAAG,CAAC,MAAQ,SAASY,GAAQxB,EAAIc,WAAa,EAAEd,EAAIyB,UAAY,OAAO,GAAGrB,EAAG,cAAc,CAACA,EAAG,WAAW,CAACI,YAAY,8BAA8BE,MAAM,CAAC,KAAO,UAAU,YAAY,SAAS,QAAUV,EAAI0B,cAAc,CAAC1B,EAAIS,GAAG,gBAAgBL,EAAG,IAAI,CAACI,YAAY,YAAYmB,MAAM,CAAE,QAAU3B,EAAIyB,YAAa,CAACzB,EAAIS,GAAGT,EAAI4B,GAAG5B,EAAI6B,cAAc,IAAI,GAAGzB,EAAG,MAAM,CAACI,YAAY,iBAAiB,CAACJ,EAAG,OAAO,CAACI,YAAY,OAAO,CAACR,EAAIS,GAAG,WAAWL,EAAG,WAAW,CAACI,YAAY,gBAAgBE,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAIE,GAAG,CAAC,MAAQZ,EAAI8B,WAAW,CAAC9B,EAAIS,GAAG,WAAW,IAAI,IACtyBsB,EAAkB,GC0BtB,GACE,aADF,WAEI,KAAJ,kCAEE,KAJF,WAKI,MAAJ,CACM,WAAN,EACM,UAAN,EACM,aAAN,EACM,SAAN,GACM,SAAN,wGACM,SAAN,GACM,KAAN,eAGE,QAfF,WAgBI,KAAJ,kCACI,KAAJ,sCACA,gCACM,KAAN,YACM,KAAN,qCACM,KAAN,qBAAQ,MAAR,kBAGE,QAAF,CACI,aADJ,SACA,GAAM,IAAN,OACM,EAAN,iBACM,KAAN,mCACA,qBACU,EAAV,eACU,EAAV,gEACU,EAAV,gEACA,kBACY,EAAZ,eACA,eACc,EAAd,cACgB,KAAhB,iBACgB,KAAhB,iBACgB,OAAhB,CACkB,QAAlB,8BACkB,SAAlB,UACkB,MAAlB,KACkB,cAAlB,OACkB,OAAlB,OACkB,kBAAlB,WAIA,4CACgB,EAAhB,0BACA,8CACgB,EAAhB,mBAEgB,EAAhB,uBAEc,EAAd,qBAMI,SArCJ,WAsCM,KAAN,0BC/FgV,I,wBCQ5UC,EAAY,eACd,EACAjC,EACAgC,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-3f3a695b.998031e8.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{'signup-container': _vm.isPc, 'signup-container-mb': !_vm.isPc}},[_c('p',{staticClass:\"title\"},[_vm._v(\"註冊\")]),_c('p',{staticClass:\"description\"},[_vm._v(\"註冊7天免費試用\")]),_c('a-form',{staticClass:\"forget-password-form\",attrs:{\"id\":\"components-form-demo-normal-login\",\"form\":_vm.form},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',[_c('i',{staticClass:\"input-icon\",class:{\n      'email-icon-normal': _vm.emailState === 1,\n      'email-icon-click': _vm.emailState === 2,\n      'email-icon-error': _vm.emailState === 3}}),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['email',{ rules: [{\n              type: 'email',\n              message: '郵箱格式錯誤',\n            },{ required: true, message: '請輸入電郵' }] }]),expression:\"['email',{ rules: [{\\n              type: 'email',\\n              message: '郵箱格式錯誤',\\n            },{ required: true, message: '請輸入電郵' }] }]\"}],attrs:{\"placeholder\":\"電郵\"},on:{\"focus\":function($event){_vm.emailState = 2;_vm.showError = 0}}})],1),_c('a-form-item',[_c('a-button',{staticClass:\"forget-password-form-button\",attrs:{\"type\":\"primary\",\"html-type\":\"submit\",\"loading\":_vm.iconLoading}},[_vm._v(\"註冊\\n      \")]),_c('p',{staticClass:\"error-mss\",style:({'opacity':_vm.showError})},[_vm._v(_vm._s(_vm.errorMss))])],1)],1),_c('div',{staticClass:\"signup-footer\"},[_c('span',{staticClass:\"tip\"},[_vm._v(\"已經註冊？\")]),_c('a-button',{staticClass:\"subscribe-btn\",attrs:{\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":_vm.goSingIn}},[_vm._v(\"立即登入\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"{'signup-container': isPc, 'signup-container-mb': !isPc}\">\n    <p class=\"title\">註冊</p>\n    <p class=\"description\">註冊7天免費試用</p>\n    <a-form id=\"components-form-demo-normal-login\" :form=\"form\" class=\"forget-password-form\" @submit=\"handleSubmit\">\n      <a-form-item>\n        <i class=\"input-icon\" :class=\"{\n        'email-icon-normal': emailState === 1,\n        'email-icon-click': emailState === 2,\n        'email-icon-error': emailState === 3}\"></i>\n        <a-input v-decorator=\"['email',{ rules: [{\n                type: 'email',\n                message: '郵箱格式錯誤',\n              },{ required: true, message: '請輸入電郵' }] }]\"\n                 placeholder=\"電郵\" @focus=\"emailState = 2;showError = 0\" >\n        </a-input>\n      </a-form-item>\n      <a-form-item>\n        <a-button type=\"primary\" html-type=\"submit\" :loading=\"iconLoading\" class=\"forget-password-form-button\">註冊\n        </a-button>\n        <p class=\"error-mss\" :style=\"{'opacity':showError}\">{{errorMss}}</p>\n      </a-form-item>\n    </a-form>\n    <div class=\"signup-footer\">\n      <span class=\"tip\">已經註冊？</span>\n      <a-button class=\"subscribe-btn\" type=\"primary\" ghost @click=\"goSingIn\">立即登入</a-button>\n    </div>\n  </div>\n\n</template>\n\n<script>\n\n  export default {\n    beforeCreate() {\n      this.form = this.$form.createForm(this);\n    },\n    data() {\n      return {\n        emailState: 1,\n        showError: 0,\n        iconLoading: false,\n        errorMss: '',\n        emailReg: /[\\w!#$%&'*+/=?^_`{|}~-]+(?:\\.[\\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\\w](?:[\\w-]*[\\w])?\\.)+[\\w](?:[\\w-]*[\\w])?/,\n        emailBuf: '',\n        isPc: this.$isPc()\n      };\n    },\n    mounted() {\n      this.emailBuf = this.$route.params.email;\n      this.errorMss = this.$route.params.errorMss\n      if (!!this.emailBuf || this.errorMss) {\n        this.showError = 1\n        this.errorMss = this.$route.params.errorMss\n        this.form.setFieldsValue({ email: this.emailBuf })\n      }\n    },\n    methods: {\n      handleSubmit(e) {\n        e.preventDefault();\n        this.form.validateFields((err, values) => {\n          if (!err && this.showError !== 1) {\n            this.iconLoading = true;\n            values['affid'] = this.$route.query['aff'] || localStorage.getItem('aff') || ''\n            this.$http.post(`${process.env.VUE_APP_SERVER_URL}/api/v2/users`, values)\n              .then((data) => {\n                this.iconLoading = false;\n                if (data.status === 201) {\n                  this.$router.push({\n                    path: 'signup-success',\n                    name: 'signup-success',\n                    params: {\n                      account: this.form.getFieldValue('email'),\n                      packages: '50G 無限量',\n                      cycle: '7天',\n                      originalPrice: '3.00',\n                      reduce: '3.00',\n                      preferentialPrice: '0.00',\n                    }\n                  });\n                } else {\n                  if (data.message.indexOf('Email is registered') > -1) {\n                    this.errorMss = '該電郵地址已經存在一個用戶。';\n                  } else if (data.message.indexOf('recognize this domain') > -1) {\n                    this.errorMss = '未能識別此電郵';\n                  } else {\n                    this.errorMss = '存在異常，請稍後重試。';\n                  }\n                  this.showError = 1;\n                }\n              });\n          }\n        });\n      },\n      goSingIn () {\n        this.$router.push('signin')\n      }\n    },\n  };\n</script>\n<style lang=\"scss\">\n  .signup-container {\n    width: 420px;\n\n    display: flex;\n    flex-direction: column;\n    .title {\n      font-size: 36px;\n      font-weight: 600;\n      margin-bottom: 12px;\n    }\n    .description {\n      margin-bottom: 60px;\n      font-size: 16px;\n      font-weight: 400;\n      line-height: 22px;\n      color: #616577\n    }\n    .ant-form-item {\n      .ant-input {\n        height: 52px;\n        padding: 0 36px 0 53px;\n      }\n      .input-icon {\n        position: absolute;\n        width: 20px;\n        height: 20px;\n        top: -1px;\n        left: 19px;\n        z-index: 1;\n      }\n      .email-icon-normal {\n        background: url(\"../assets/user/email-normal.svg\") no-repeat;\n        background-size: 100% 100%;\n      }\n      .email-icon-click {\n        background: url(\"../assets/user/email-click.svg\") no-repeat;\n        background-size: 100% 100%;\n      }\n      .email-icon-error {\n        background: url(\"../assets/user/email-error.svg\") no-repeat;\n        background-size: 100% 100%;\n      }\n    }\n    .ant-form-explain {\n      margin-top: 8px;\n      display: flex;\n      align-items: center;\n      &::before {\n        margin: 0 6px 0 0;\n        background: url('../assets/user/error-tip-icon.svg') no-repeat center;\n        background-size: auto;\n        content: \"\";\n        display: inline-block;\n        width: 14px;\n        height: 14px;\n      }\n    }\n    .ant-form-item:nth-of-type(2) {\n      margin-top: 40px;\n      margin-bottom: 0;\n      .ant-form-item-children {\n        display: flex;\n        flex-direction: column;\n        .forget-password-form-button {\n          font-size: 18px;\n          height: 52px;\n          font-weight: 600;\n          margin-bottom: 8px;\n          background-color: #3963EF;\n          border-color: #3963EF;\n          box-shadow: 0 3px 6px rgba(86, 109, 186, 0.3);\n          &:hover {\n            box-shadow: 0 6px 14px rgba(86, 109, 186, 0.3);\n          }\n          &:active {\n            background-color: #3257D2;\n            border-color: #3257D2;\n            box-shadow: 0 6px 14px rgba(86, 109, 186, 0.3);\n          }\n        }\n        .error-mss {\n          opacity: 0;\n          font-size: 14px;\n          line-height: 16px;\n          font-weight: 400;\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          height: 38px;\n          color: #FC6174;\n          border: 1px solid #FC6174;\n          border-radius: 4px;\n          background-color: #FFF5F6;\n          margin-bottom: 14px;\n          &::before {\n            margin: 0 6px 0 12px;\n            background: url('../assets/user/error-tip-icon.svg') no-repeat center;\n            background-size: auto;\n            content: \"\";\n            width: 14px;\n            display: inline-block;\n            height: 14px;\n          }\n        }\n      }\n    }\n\n    .signup-footer {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      .subscribe-btn {\n        font-size: 18px;\n        font-weight: 500;\n        height: 44px;\n        color: #3963EF;\n        border-color: #3963EF;\n        &:hover {\n          color: #fff;\n          background-color: #3963EF !important;\n        }\n      }\n      .tip {\n        font-size: 16px;\n        font-weight: 400;\n        color: #9DA3B9;\n      }\n    }\n  }\n\n  .signup-container-mb {\n    padding: 0 0.8rem;\n    width: 100%;\n    margin-top: 1.867rem;\n    display: flex;\n    flex-direction: column;\n    .title {\n      font-size: 0.747rem;\n      font-weight: 600;\n      margin-bottom: 0.267rem;\n    }\n    .description {\n      margin-bottom: 1.333rem;\n      font-size: 0.4rem;\n      font-weight: 400;\n      line-height: 0.547rem;\n      color: #616577\n    }\n    .ant-form-item-control {\n      display: flex;\n      flex-direction: column;\n      .ant-form-item-children {\n        width: 100%;\n      }\n    }\n    .ant-form-item {\n      margin-bottom: 0;\n      .ant-input {\n        font-size: 0.4rem;\n        height: 1.227rem;\n        padding: 0 1.227rem 0 1.227rem;\n        width: 100%;\n      }\n      .input-icon {\n        position: absolute;\n        width: 0.48rem;\n        height: 100%;\n        left: 0.373rem;\n        z-index: 1;\n      }\n      .email-icon-normal {\n        background: url(\"../assets/user/email-normal.svg\") no-repeat;\n        background-size: 100% 100%;\n      }\n      .email-icon-click {\n        background: url(\"../assets/user/email-click.svg\") no-repeat;\n        background-size: 100% 100%;\n      }\n      .email-icon-error {\n        background: url(\"../assets/user/email-error.svg\") no-repeat;\n        background-size: 100% 100%;\n      }\n    }\n    .ant-form-explain {\n      margin-top: 0.133rem;\n      display: flex;\n      align-items: center;\n      &::before {\n        margin: 0 0.133rem 0 0;\n        background: url('../assets/user/error-tip-icon.svg') no-repeat center;\n        background-size: auto;\n        content: \"\";\n        display: inline-block;\n        width: 0.373rem;\n        height: 0.373rem;\n      }\n    }\n    .ant-form-item:nth-of-type(2) {\n      margin-top: 0.907rem;\n      .ant-form-item-children {\n        display: flex;\n        flex-direction: column;\n        .forget-password-form-button {\n          font-size: 0.48rem;\n          height: 1.227rem;\n          font-weight: 600;\n          margin-bottom: 0.187rem;\n          background-color: #3963EF;\n          border-color: #3963EF;\n          box-shadow: 0 0.04rem 0.08rem rgba(86, 109, 186, 0.3);\n          &:hover {\n            box-shadow: 0 0.08rem 0.187rem rgba(86, 109, 186, 0.3);\n          }\n          &:active {\n            background-color: #3257D2;\n            border-color: #3257D2;\n            box-shadow: 0 0.08rem 0.187rem rgba(86, 109, 186, 0.3);\n          }\n        }\n        .error-mss {\n          margin-top: 0.267rem;\n          opacity: 0;\n          font-size: 0.4rem;\n          line-height: 0.213rem;\n          font-weight: 400;\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          color: #FC6174;\n          &::before {\n            margin: 0 0.133rem 0 0;\n            background: url('../assets/user/error-tip-icon.svg') no-repeat center;\n            background-size: auto;\n            content: \"\";\n            display: inline-block;\n            width: 0.373rem;\n            height: 0.373rem;\n          }\n        }\n      }\n    }\n\n    .signup-footer {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      .subscribe-btn {\n        font-size: 0.4rem;\n        font-weight: 400;\n        height: 1.227rem;\n        color: #3963EF;\n        border-color: #3963EF;\n        &:hover {\n          color: #fff;\n          background-color: #3963EF !important;\n        }\n      }\n      .tip {\n        font-size: 0.4rem;\n        font-weight: 400;\n        color: #9DA3B9;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Signup.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Signup.vue?vue&type=template&id=793de40d&\"\nimport script from \"./Signup.vue?vue&type=script&lang=js&\"\nexport * from \"./Signup.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Signup.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}