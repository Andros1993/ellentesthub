(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30c022db"],{"2f7f":function(t,e,s){},5373:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{"forget-password-container":t.isPc,"forget-password-container-mb":!t.isPc}},[t.isSent?t._e():s("div",{staticClass:"send-email-container"},[s("p",{staticClass:"title"},[t._v("忘記密碼")]),s("p",{staticClass:"description"},[t._v("用電郵重置賬戶密碼")]),s("a-form",{staticClass:"forget-password-form",attrs:{id:"components-form-demo-normal-login",form:t.form},on:{submit:t.handleSubmit}},[s("a-form-item",[s("i",{staticClass:"input-icon",class:{"email-icon-normal":1===t.emailState,"email-icon-click":2===t.emailState,"email-icon-error":3===t.emailState}}),s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{type:"email",message:"郵箱格式錯誤"},{required:!0,message:"請輸入電郵"}]}],expression:"['email',{ rules: [{\n              type: 'email',\n              message: '郵箱格式錯誤',\n            },{ required: true, message: '請輸入電郵' }] }]"}],attrs:{placeholder:"電郵"},on:{focus:function(e){t.emailState=2,t.showError=0}}})],1),s("a-form-item",[s("a-button",{staticClass:"forget-password-form-button",attrs:{type:"primary","html-type":"submit",loading:t.iconLoading}},[t._v("重設密碼\n        ")]),s("p",{staticClass:"error-mss",style:{opacity:t.showError}},[t._v(t._s(t.errorMss))])],1)],1)],1),t.isSent?s("div",{staticClass:"sent-container"},[s("p",{staticClass:"title"},[t._v("驗證郵件已發送")]),s("p",{staticClass:"description"},[t._v("請檢查電郵收件箱。")]),s("i",{staticClass:"sent-icon",style:{backgroundImage:"url("+t.$assetsUrl+"user/email-sent.svg)"}}),s("p",{staticClass:"footer-tip"},[t._v("找不到電郵？請查看垃圾箱或\n      "),t.loading?s("a-button",{attrs:{type:"link",loading:t.loading}}):t._e(),t.loading||t.resendTip?t._e():s("span",{on:{click:function(e){return t.resendEmail()}}},[t._v("重發。")]),t.resendTip?s("span",{staticStyle:{color:"#768392"}},[t._v("已發送("+t._s(t.secondNum)+")")]):t._e()],1)]):t._e()])},a=[],n=s("9225"),o={beforeCreate:function(){this.form=this.$form.createForm(this)},data:function(){return{emailState:1,errorMss:"",noAccountSignUp:"現在註冊",showError:0,iconLoading:!1,isSent:!1,emailReg:/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/,loading:!1,resendTip:!1,secondNum:60,dataBuf:{},isPc:this.$isPc()}},methods:{handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,s){t||(e.iconLoading=!0,s["redirectTo"]="".concat(window.location.origin,"/").concat(window.localStorage.getItem(n["a"]),"/users/reset-password"),e.dataBuf=s,e.sendForgetEmail(s))}))},resendEmail:function(){this.loading=!0,this.sendForgetEmail(this.dataBuf)},sendForgetEmail:function(t){var e=this;this.$http.post("".concat("https://fatpipe.work","/api/v2/users/resetpassword"),t).then((function(t){if(e.loading){e.loading=!1,e.resendTip=!0;var s=setInterval((function(){e.secondNum--,0===e.secondNum&&(window.clearInterval(s),e.resendTip=!1,e.secondNum=60)}),1e3)}e.iconLoading=!1,201===t.status||200===t.status?e.isSent=!0:(e.emailState=3,e.showError=1,e.errorMss="此郵箱未註冊",e.noAccountSignUp="")}))}}},r=o,c=(s("e738"),s("2877")),l=Object(c["a"])(r,i,a,!1,null,null,null);e["default"]=l.exports},e738:function(t,e,s){"use strict";var i=s("2f7f"),a=s.n(i);a.a}}]);
//# sourceMappingURL=chunk-30c022db.13c0fd1f.js.map