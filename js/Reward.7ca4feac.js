(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Reward"],{2442:function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"my-reward"},[t._m(0),a("div",{staticClass:"display-board"},[a("div",{staticClass:"wallet"},[a("div",{staticClass:"balance"},[a("p",[t._v(t._s(t.balance))]),a("p",[t._v("佣金余额（元）")])])]),a("div",{staticClass:"total-flex"},[a("div",{staticClass:"total people"},[a("div",{staticClass:"total-left"},[a("p",[t._v(t._s(t.peopleNum))]),a("p",[t._v("邀请人数（个）")])]),a("div",{staticClass:"total-right"},[a("i",{style:{backgroundImage:"url("+t.$assetsUrl+"reward/arrow.svg)"}})])]),a("div",{staticClass:"line"}),a("div",{staticClass:"total money"},[a("div",{staticClass:"total-left"},[a("p",[t._v(t._s(t.commission))]),a("p",[t._v("累计佣金（元）")])]),a("div",{staticClass:"total-right"},[a("i",{style:{backgroundImage:"url("+t.$assetsUrl+"reward/arrow.svg)"}})])])])]),a("div",{staticClass:"ticket"},[a("div",{staticClass:"title"},[t._v("\n      流量券\n    ")]),a("div",{staticClass:"ticket-list"},t._l(t.rewards,(function(s,i){return a("div",{key:s.id,staticClass:"ticket"},[a("div",{staticClass:"ticket-left"},[a("div",{staticClass:"num"},[a("p",[t._v(t._s(s.length))]),a("span",[t._v("Days")])]),a("div",{staticClass:"info"},[a("p",[t._v(t._s(s.campaign))]),a("span",[t._v(t._s(s.date))])])]),"CREATED"===s.status?a("div",{staticClass:"receive",on:{click:function(a){return t.claimReward(s)}}},[t._v("\n          领取\n        ")]):"CLAIMING"===s.status?a("div",{staticClass:"receive"},[t._v("\n          领取中\n        ")]):a("div",{staticClass:"received"},[t._v("\n          已领取\n        ")])])})),0),t.haveTicket?t._e():a("div",{staticClass:"none-ticket"},[a("div",{staticClass:"none-img",style:{backgroundImage:"url("+t.$assetsUrl+"reward/none.svg)"}}),a("div",{staticClass:"invite-friend"},[t._v("\n        邀请好友得券\n      ")])])])])},e=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("header",[a("h1",[t._v("我的奖励")])])}],n=a("76a0"),c={name:"reward",data:function(){return{haveTicket:!0,sheetVisible:!0,balance:"--",peopleNum:"--",commission:"--",rewards:[]}},mounted:function(){this.getData(),this.getAffiliate()},methods:{getData:function(){var t=this;this.$http.get("".concat("https://fatpipe.work","/api/v1/rewards")).then((function(s){200===s.status&&(t.rewards=JSON.parse(JSON.stringify(s.data)),t.rewards.map((function(t){t.date=t.createdAt.slice(0,10),t.num="".concat(t.data/1073741824,"G")})))}))},getAffiliate:function(){var t=this;this.$http.get("".concat("https://fatpipe.work","/api/v1/affiliates")).then((function(s){200===s.status&&(t.peopleNum=s.data.visitors,t.balance=s.data.balance)}))},claimReward:function(t){this.$http.put("".concat("https://fatpipe.work","/api/v1/rewards/").concat(t.id,"/claim")).then((function(s){200===s.status&&(Object(n["Toast"])({message:"领取成功！",duration:1e3}),t.status=s.data.status)}))},toInviteList:function(){this.peopleNum>0&&this.$router.push("/invitations")},toCommissionList:function(){this.commission>0&&this.$router.push("/commissions")},getRewards:function(){}}},l=c,r=(a("ae02"),a("2877")),o=Object(r["a"])(l,i,e,!1,null,null,null);s["default"]=o.exports},"740b":function(t,s,a){},ae02:function(t,s,a){"use strict";var i=a("740b"),e=a.n(i);e.a}}]);
//# sourceMappingURL=Reward.7ca4feac.js.map