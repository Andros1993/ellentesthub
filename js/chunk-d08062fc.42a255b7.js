(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d08062fc"],{"0060":function(s,o,t){"use strict";t.r(o);var a=function(){var s=this,o=s.$createElement,t=s._self._c||o;return t("div",{class:{"reset-password-container":s.isPc,"reset-password-container-mb":!s.isPc}},[s.isSuccess?s._e():t("div",{staticClass:"reset-password-content"},[t("p",{staticClass:"title"},[s._v("修改密碼")]),t("a-form",{staticClass:"login-form",attrs:{id:"components-form-demo-normal-login",form:s.form},on:{submit:s.handleSubmit}},[t("a-form-item",[t("i",{staticClass:"input-icon",class:{"password-icon-normal":1===s.password1State,"password-icon-click":2===s.password1State,"password-icon-error":3===s.password1State}}),s.isPc?t("a-popover",{attrs:{placement:"rightTop"}},[t("template",{slot:"content"},[t("div",{staticClass:"reset-password-conditions"},[t("p",{staticClass:"title"},[s._v("選擇一個強密碼")]),t("p",{class:{"passw-check-normal":1===s.condition1,"passw-check-pass":2===s.condition1,"passw-check-error":3===s.condition1}},[s._v("包含至少1個小寫字母；")]),t("p",{class:{"passw-check-normal":1===s.condition2,"passw-check-pass":2===s.condition2,"passw-check-error":3===s.condition2}},[s._v("包含至少1個大寫字母；")]),t("p",{class:{"passw-check-normal":1===s.condition3,"passw-check-pass":2===s.condition3,"passw-check-error":3===s.condition3}},[s._v("包含至少1個數字；")]),t("p",{class:{"passw-check-normal":1===s.condition4,"passw-check-pass":2===s.condition4,"passw-check-error":3===s.condition4}},[s._v("長度範圍為8到18個字符。")])])]),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password1",{rules:[{required:!0,message:"包含至少1個小寫字母"}]}],expression:"['password1',{ rules: [{ required: true, message: '包含至少1個小寫字母' }] }]"}],attrs:{type:s.password1Type,placeholder:"新密碼"},on:{focus:function(o){s.password1State=2,s.showError=0,s.checkPassword(s.passwordText1)},blur:function(o){s.password1State=1,s.passwordInit1=!0},change:s.onChange1}}),t("i",{staticClass:"input-icon",class:{"password-show":!s.password1Show,"password-hide":s.password1Show},on:{click:s.showPassword1}})],2):s._e(),s.isPc?s._e():t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password1",{rules:[{required:!0,message:"包含至少1個小寫字母"}]}],expression:"['password1',{ rules: [{ required: true, message: '包含至少1個小寫字母' }] }]"}],attrs:{type:s.password1Type,placeholder:"新密碼"},on:{focus:function(o){s.password1State=2,s.showError=0,s.checkPassword(s.passwordText1)},blur:function(o){s.password1State=1,s.passwordInit1=!0},change:s.onChange1}}),s.isPc?s._e():t("i",{staticClass:"input-icon",class:{"password-show":!s.password1Show,"password-hide":s.password1Show},on:{click:s.showPassword1}})],1),t("a-form-item",[t("i",{staticClass:"input-icon",class:{"password-icon-normal":1===s.password2State,"password-icon-click":2===s.password2State,"password-icon-error":3===s.password2State}}),s.isPc?t("a-popover",{attrs:{placement:"rightTop"}},[t("template",{slot:"content"},[t("div",{staticClass:"reset-password-conditions"},[t("p",{class:{"passw-check-normal":1===s.condition5,"passw-check-pass":2===s.condition5,"passw-check-error":3===s.condition5},style:{"margin-bottom":0}},[s._v("重複上一個密碼。")])])]),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password2",{rules:[{required:!0,message:"重複上一個密碼"}]}],expression:"['password2',{ rules: [{ required: true, message: '重複上一個密碼' }] }]"}],attrs:{type:s.password2Type,placeholder:"確認密碼"},on:{focus:function(o){s.password2State=2,s.showError=0,s.checkPassword2(s.passwordText2)},blur:function(o){s.password2State=1,s.passwordInit2=!0},change:s.onChange2}}),t("i",{staticClass:"input-icon",class:{"password-show":!s.password2Show,"password-hide":s.password2Show},on:{click:s.showPassword2}})],2):s._e(),s.isPc?s._e():t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password2",{rules:[{required:!0,message:"重複上一個密碼"}]}],expression:"['password2',{ rules: [{ required: true, message: '重複上一個密碼' }] }]"}],attrs:{type:s.password2Type,placeholder:"確認密碼"},on:{focus:function(o){s.password2State=2,s.showError=0,s.checkPassword2(s.passwordText2)},blur:function(o){s.password2State=1,s.passwordInit2=!0},change:s.onChange2}}),s.isPc?s._e():t("i",{staticClass:"input-icon",class:{"password-show":!s.password2Show,"password-hide":s.password2Show},on:{click:s.showPassword2}})],1),t("a-form-item",[t("a-button",{staticClass:"login-form-button",attrs:{type:"primary","html-type":"submit",loading:s.iconLoading}},[s._v("重置")]),t("p",{staticClass:"error-mss",style:{opacity:s.showError}},[s._v(s._s(s.errorMss))])],1)],1)],1),s.isSuccess?t("div",{staticClass:"reset-password-success"},[t("i",{staticClass:"success-icon",style:{backgroundImage:"url("+s.$assetsUrl+"pay/success.svg)"}}),t("p",{staticClass:"title"},[s._v("密碼修改成功")]),t("p",{staticClass:"description"},[s._v("您的密碼已修改")]),t("a-button",{staticClass:"forget-password-form-button",attrs:{type:"primary","html-type":"submit",loading:s.iconLoading},on:{click:s.goSignin}},[s._v("登入\n    ")])],1):s._e()])},r=[],i={beforeCreate:function(){this.form=this.$form.createForm(this)},data:function(){return{password1State:1,password2State:1,password1Show:!1,password2Show:!1,password1Type:"password",password2Type:"password",errorMss:"",showError:0,iconLoading:!1,condition1:1,condition2:1,condition3:1,condition4:1,condition5:1,passwordText1:"",passwordText2:"",passwordInit1:!1,passwordInit2:!1,isSuccess:!1,isPc:this.$isPc()}},methods:{handleSubmit:function(s){var o=this;s.preventDefault(),2!==this.condition1||2!==this.condition2||2!==this.condition3||2!==this.condition4||2!==this.condition5?(this.showError=1,2!==this.condition1?this.errorMss="包含至少1個小寫字母":2!==this.condition2?this.errorMss="包含至少1個大寫字母":2!==this.condition3?this.errorMss="包含至少1個數字":2!==this.condition4?this.errorMss="長度範圍為8到18個字符":2!==this.condition5&&(this.errorMss="重複上一個密碼")):this.form.validateFields((function(s,t){if(!s){var a={email:localStorage.getItem("email"),password:t["password1"]};o.iconLoading=!0;var r=o;o.$request.postChangePassword(a,(function(s){r.iconLoading=!1,201===s.status||200===s.status?(r.iconLoading=!1,r.isSuccess=!0,localStorage.removeItem("token")):(r.showError=1,s.message.indexOf("Email or Password Invalid")>-1?r.errorMss="電子郵件或密碼無效":s.message.indexOf("We do not recognize this code")>-1?r.errorMss="我們無法識別此代碼，請重新獲取驗證碼郵件":r.errorMss="存在異常，請稍後重試")}))}}))},showPassword2:function(){this.password2Show=!this.password2Show,this.password2Type=this.password2Show?"text":"password"},showPassword1:function(){this.password1Show=!this.password1Show,this.password1Type=this.password1Show?"text":"password"},onChange1:function(s){this.checkPassword(s.target.value),this.passwordText1=s.target.value},onChange2:function(s){this.checkPassword2(s.target.value),this.passwordText2=s.target.value},checkPassword:function(s){this.condition1=/[a-z]/.test(s)?2:this.passwordInit1?3:1,this.condition2=/[A-Z]/.test(s)?2:this.passwordInit1?3:1,this.condition3=/[0-9]/.test(s)?2:this.passwordInit1?3:1,this.condition4=s.length>=8&&s.length<=18?2:this.passwordInit1?3:1},checkPassword2:function(s){this.condition5=this.passwordText1===s?2:this.passwordInit2?3:1},goSignin:function(){this.$router.push({path:"signin",name:"signin"})}}},e=i,n=(t("56cc"),t("2877")),c=Object(n["a"])(e,a,r,!1,null,null,null);o["default"]=c.exports},"56cc":function(s,o,t){"use strict";var a=t("d206"),r=t.n(a);r.a},d206:function(s,o,t){}}]);
//# sourceMappingURL=chunk-d08062fc.42a255b7.js.map