(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["SupportContactUsView"],{be95:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0===t.channel?a("div",{staticClass:"contact-container"},[a("p",{staticClass:"client-title"},[t._v("聯繫我們")]),a("p",{staticClass:"client-description"},[t._v("為您提供進一步幫助")]),a("div",{staticClass:"channel-item-container"},[a("div",{staticClass:"channel-item"},[a("i",{staticClass:"channel-icon"}),a("p",{staticClass:"channel-title"},[t._v("實時聊天")]),a("p",{staticClass:"channel-description"},[t._v("在您的瀏覽器中和我們實時聊天。")]),a("a-button",{staticClass:"subscribe-btn",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.openZw()}}},[t._v("開始聊天")])],1),a("div",{staticClass:"channel-item"},[a("i",{staticClass:"channel-icon channel-email-icon"}),a("p",{staticClass:"channel-title"},[t._v("提交工單")]),a("p",{staticClass:"channel-description"},[t._v("開一個工單，填寫表單或發送郵件給我們。")]),a("a-button",{staticClass:"subscribe-btn",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.openNewRequest()}}},[t._v("發工單")])],1),a("div",{staticClass:"channel-item"},[a("i",{staticClass:"channel-icon channel-phone-icon"}),a("p",{staticClass:"channel-title"},[t._v("電話溝通")]),a("p",{staticClass:"channel-description"},[t._v("呼叫支援專員或讓我們回撥電話。")]),a("a-button",{staticClass:"subscribe-btn",attrs:{type:"primary",ghost:""},on:{click:function(e){return t.openZw()}}},[t._v("開始通話")])],1)])]):t._e(),1===t.channel?a("div",{staticClass:"contact-email"},[a("p",{staticClass:"client-title"},[t._v("提交工單")]),a("a-form",{staticClass:"email-form",attrs:{form:t.form,layout:"vertical"},on:{submit:t.handleSubmit}},[a("a-form-item",{staticClass:"form-item",attrs:{label:"電郵"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["email",{rules:[{required:!0,message:"您的電郵"}],initialValue:t.email}],expression:"['email', { rules: [{ required: true, message: '您的電郵' }],initialValue: email }]"}],staticClass:"form-email",attrs:{placeholder:"您的電郵"}})],1),a("a-form-item",{staticClass:"form-item",attrs:{label:"問題描述"}},[a("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["detail",{rules:[{required:!0,message:"描述您遇到的問題"}]}],expression:"['detail', { rules: [{ required: true, message: '描述您遇到的問題' }] }]"}],staticClass:"form-description",attrs:{placeholder:"描述您遇到的問題",autosize:{minRows:8,maxRows:8}}})],1),a("a-form-item",{staticClass:"form-item",attrs:{label:"附件"}},[a("div",{staticClass:"dropbox"},[a("a-upload-dragger",{directives:[{name:"decorator",rawName:"v-decorator",value:["dragger",{valuePropName:"fileList",getValueFromEvent:t.normFile}],expression:"['dragger',{valuePropName: 'fileList',getValueFromEvent: normFile,},]"}],staticClass:"form-upload-dragger",attrs:{name:"uploaded_data",action:"https://sg.inforun.work/api/v2/uploads",data:t.uploadData,beforeUpload:t.uploadFileCheck},on:{change:t.handleChange}},[a("p",{staticClass:"ant-upload-drag-icon"},[a("i",{staticClass:"form-upload-icon"})]),a("p",{staticClass:"ant-upload-text"},[t._v("\n              新增檔案\n            ")]),a("p",{staticClass:"ant-upload-hint"},[t._v("\n              或將檔案放置到這裡 (最多5個)\n            ")])])],1)]),a("a-form-item",{staticClass:"form-item-btn"},[a("a-button",{staticClass:"submit-btn",attrs:{type:"primary","html-type":"submit",loading:t.submitLoading}},[t._v("\n          提交\n        ")])],1)],1)],1):t._e()])},i=[],n=(a("7f7f"),{name:"SupportContactUsView",data:function(){return{channel:0,uploadData:{filename:""},formLayout:"horizontal",form:this.$form.createForm(this,{name:"coordinated"}),uploadFIleIds:[],submitLoading:!1,maxFiles:5,email:localStorage.getItem("email")}},methods:{openZw:function(){window.zE("webWidget","open"),setTimeout((function(){document.getElementsByClassName("zEWidget-webWidget--active")[0].contentWindow.document.getElementsByTagName("footer")[0].getElementsByTagName("button")[0].click()}),1e3)},openNewRequest:function(){this.channel=1},handleSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields((function(t,a){if(!t){e.submitLoading=!0;var s={request:{requester:{name:a["email"],email:a["email"]},subject:a["detail"],comment:{body:"".concat(a["detail"],"↵↵---------- ↵ 來自").concat(window.location.href),upload:e.uploadFIleIds}}},i=e;e.$request.postNewRequest(s,(function(t){i.submitLoading=!1,201!==t.status&&200!==t.status||0==t.request.id?i.$notification.open({message:"處理您的請求時出錯。請稍後重試。",onClick:function(){}}):(i.channel=0,i.$notification.open({message:"感謝您與我們聯繫\n相關人員會盡快回复您",onClick:function(){}}))}))}}))},handleChange:function(t){var e=t.file.status;"done"===e?(this.$message.success("".concat(t.file.name," 上傳成功。")),this.uploadFIleIds.push(t.file.response.upload.token)):e||this.$message.error("".concat(t.file.name," 上傳失敗。"))},normFile:function(t){return Array.isArray(t)?t:t&&t.fileList},uploadFileCheck:function(t,e){return this.uploadFIleIds.length<this.maxFiles}}}),o=n,l=a("2877"),r=Object(l["a"])(o,s,i,!1,null,"4bb6362c",null);e["default"]=r.exports}}]);
//# sourceMappingURL=SupportContactUsView.d9207391.js.map